<div class="container-fluid">
  <!-- <app-page-title title="Lot" [breadcrumbItems]="breadCrumbItems"></app-page-title> -->

  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <!-- <button (click)="loadPage('logs', '10', '0')">X</button> -->
          <div *ngIf="!results" id="loadingmodule" style="text-align: center;"><img
              src="../../../../assets/images/loading2.gif" style="width: 50px;"></div>

          <div *ngIf="results" class="ContentSideSections ewogrid" style="padding:1px 10px;">
           
            <!-- <div class="ui-widget-header ui-helper-clearfix ewoheader">
              <actions (add)="add()" (edit)="edit()" (delete)="delete()" (export)="dt.exportCSV()"></actions> -->
            </div>
            
            <p-table #dt [value]="results" [paginator]="false" [rows]="10" [totalRecords]="totalRows" selectionMode="single" [rowsPerPageOptions]="[10,20,30]"
              >
              <!-- <p-paginator [rows]="10" [totalRecords]="totalRows" [rowsPerPageOptions]="[10,20,30]"></p-paginator> -->

              <ng-template pTemplate="header" let-columns >
                <tr>
                  <th [pSortableColumn]="'no'">#
                    <p-sortIcon [field]="'no'" ariaLabel="Activate to sort"
                      ariaLabelDesc="Activate to sort in descending order"
                      ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
                  </th>
                  <th [pSortableColumn]="'id'">Id
                    <p-sortIcon [field]="'id'" ariaLabel="Activate to sort"
                      ariaLabelDesc="Activate to sort in descending order"
                      ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
                  </th>
                  <th [pSortableColumn]="'startDate'">Nav start
                    <p-sortIcon [field]="'startDate'" ariaLabel="Activate to sort"
                      ariaLabelDesc="Activate to sort in descending order"
                      ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
                  </th>
                  <th [pSortableColumn]="'endDate'">Nav end
                    <p-sortIcon [field]="'endDate'" ariaLabel="Activate to sort"
                      ariaLabelDesc="Activate to sort in descending order"
                      ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
                  </th>
                  <th [pSortableColumn]="'user'">Utilizator
                    <p-sortIcon [field]="'user'" ariaLabel="Activate to sort"
                      ariaLabelDesc="Activate to sort in descending order"
                      ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
                  </th>
                  <th [pSortableColumn]="'module'">Modul/ aplicatie
                    <p-sortIcon [field]="'module'" ariaLabel="Activate to sort"
                      ariaLabelDesc="Activate to sort in descending order"
                      ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
                  </th>
                </tr>
                <tr class="ewoheaderfilter">
                  <th>
                    <input pInputText type="no" (input)="dt.filter($event.target.value, 'no', 'contains')">
                  </th>
                  <th>
                    <input pInputText type="id" (input)="dt.filter($event.target.value, 'id', 'contains')">
                  </th>
                  <th>
                    <input pInputText type="startDate"
                      (input)="dt.filter($event.target.value, 'startDate', 'contains')">
                  </th>
                  <th>
                    <input pInputText type="endDate" (input)="dt.filter($event.target.value, 'endDate', 'contains')">
                  </th>
                  <th>
                    <input pInputText type="user" (input)="dt.filter($event.target.value, 'user', 'contains')">
                  </th>
                  <th>
                    <input pInputText type="module" (input)="dt.filter($event.target.value, 'module', 'contains')">
                  </th>
                </tr>
              </ng-template>
           
             
              <ng-template pTemplate="body" let-rowData let-i="rowIndex"  let-columns="columns">
                <tr [pSelectableRow]="rowData"(dblclick)="onRowDblClick($event, rowData)">    
                  <td style="text-align: center;">Randul - {{indexArray[i]}}</td>              
                  <td>{{rowData['id']}}</td>
                  <td>{{rowData['startDate'] | date:'yyyy-MMM-dd@hh:mm:ss'}}</td>
                  <td>{{rowData['endDate'] | date:'yyyy-MMM-dd@hh:mm:ss'}}</td>
                  <td>{{rowData['user']}}</td>
                  <td>{{rowData['module']}}</td>
                </tr>
              </ng-template>
            
            </p-table>
            <p-paginator [rows]="10" [totalRecords]="totalRows" (onPageChange)="paginate($event)" ></p-paginator>
            <!-- <div class="card-footer text-center pb-0 pt-0" *ngIf="results.length">
              <ul class="pagination">
                <li class="page-item"><a class="page-link" href="/reports/user-tracker?limit={{limit}}&page={{page - 10}}" >Previous</a></li>
                <li *ngFor="let page of pages"class="page-item">

                  <a href="/reports/user-tracker?limit={{limit}}&page={{page}}" class="page-link">{{page}}</a>


                </li>
                <li class="page-item"><a class="page-link" href="/reports/user-tracker?limit={{limit}}&page={{page + 10}}" >Next</a></li>
              </ul>
          </div> -->
          </div>
          limit: {{limit}} offset: {{offset}} 
        </div>
      </div>
    </div>
  </div>

